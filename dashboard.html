<!-- dashboard.html atualizado com geração de PDF -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel - Controle de Negócio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Mantendo o resto da head original -->
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <h1>Controle de Negócio</h1>
            </div>
            <div class="header-controls">
                <div class="user-greeting">
                    Olá, <span id="user-email">.</span>
                    <a href="#" id="logout-btn">Sair</a>
                </div>
                <button id="theme-toggle-btn" title="Alterar tema">🌙</button>
            </div>
        </header>

        <main>
            <section class="actions">
                <button class="action-btn gasto" id="add-gasto-btn"><span>-</span> Adicionar Despesa</button>
                <button class="action-btn ganho" id="add-ganho-btn"><span>+</span> Adicionar Receita</button>
            </section>

            <section class="card summary-card">
                <h2>Resumo do Mês</h2>
                <div class="summary">
                    <div class="summary-item"><h3>Receitas</h3><p id="total-ganhos" class="positive">R$ 0,00</p></div>
                    <div class="summary-item"><h3>Despesas</h3><p id="total-gastos" class="negative">R$ 0,00</p></div>
                    <div class="summary-item"><h3>Saldo</h3><p id="saldo-mes">R$ 0,00</p></div>
                </div>
                <!-- Botão PDF -->
                <button id="generate-pdf-btn" class="action-btn ganho" style="margin-top: 1rem;">
                    📄 Gerar Relatório PDF
                </button>
            </section>

            <section class="card recent-transactions">
                <h2>Últimos Lançamentos</h2>
                <ul id="transaction-list" class="transaction-list"></ul>
            </section>
        </main>
    </div>

    <!-- Modal e outros scripts Firebase permanecem iguais -->

    <script>
    document.getElementById('generate-pdf-btn').addEventListener('click', () => {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        const totalGanhos = document.getElementById('total-ganhos').textContent;
        const totalGastos = document.getElementById('total-gastos').textContent;
        const saldoMes = document.getElementById('saldo-mes').textContent;

        let y = 20;
        doc.setFontSize(16);
        doc.text('Relatório Financeiro - Controle de Negócio', 20, y);
        y += 10;
        doc.setFontSize(12);
        doc.text(`Total de Receitas: ${totalGanhos}`, 20, y); y += 8;
        doc.text(`Total de Despesas: ${totalGastos}`, 20, y); y += 8;
        doc.text(`Saldo do Mês: ${saldoMes}`, 20, y);

        doc.save('Relatorio_Financeiro.pdf');
    });
    </script>

    <!-- Scripts Firebase + resto do JS -->
</body>
</html>
